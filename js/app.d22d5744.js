(function(e){function t(t){for(var a,s,o=t[0],c=t[1],u=t[2],l=0,_=[];l<o.length;l++)s=o[l],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&_.push(r[s][0]),r[s]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);p&&p(t);while(_.length)_.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],a=!0,s=1;s<n.length;s++){var o=n[s];0!==r[o]&&(a=!1)}a&&(i.splice(t--,1),e=u(u.s=n[0]))}return e}var a={},r={app:0},i=[];function s(e){return u.p+"js/"+({}[e]||e)+"."+{"chunk-491d132c":"936ba01a"}[e]+".js"}var o={};var c={"21a2":function(){return{"./equinox.js":{__wbindgen_object_drop_ref:function(e){return a["2a46"].exports["__wbindgen_object_drop_ref"](e)},__wbindgen_json_serialize:function(e,t){return a["2a46"].exports["__wbindgen_json_serialize"](e,t)},__wbindgen_json_parse:function(e,t){return a["2a46"].exports["__wbindgen_json_parse"](e,t)},__wbindgen_string_new:function(e,t){return a["2a46"].exports["__wbindgen_string_new"](e,t)},__wbindgen_number_new:function(e){return a["2a46"].exports["__wbindgen_number_new"](e)},__wbindgen_is_null:function(e){return a["2a46"].exports["__wbindgen_is_null"](e)},__wbindgen_is_undefined:function(e){return a["2a46"].exports["__wbindgen_is_undefined"](e)},__wbindgen_object_clone_ref:function(e){return a["2a46"].exports["__wbindgen_object_clone_ref"](e)},__wbg_new_59cb74e423758ede:function(){return a["2a46"].exports["__wbg_new_59cb74e423758ede"]()},__wbg_stack_558ba5917b466edd:function(e,t){return a["2a46"].exports["__wbg_stack_558ba5917b466edd"](e,t)},__wbg_error_4bb6c2a97407129a:function(e,t){return a["2a46"].exports["__wbg_error_4bb6c2a97407129a"](e,t)},__widl_f_debug_1_:function(e){return a["2a46"].exports["__widl_f_debug_1_"](e)},__widl_f_error_1_:function(e){return a["2a46"].exports["__widl_f_error_1_"](e)},__widl_f_info_1_:function(e){return a["2a46"].exports["__widl_f_info_1_"](e)},__widl_f_log_1_:function(e){return a["2a46"].exports["__widl_f_log_1_"](e)},__widl_f_warn_1_:function(e){return a["2a46"].exports["__widl_f_warn_1_"](e)},__widl_f_bind_buffer_base_WebGL2RenderingContext:function(e,t,n,r){return a["2a46"].exports["__widl_f_bind_buffer_base_WebGL2RenderingContext"](e,t,n,r)},__widl_f_bind_vertex_array_WebGL2RenderingContext:function(e,t){return a["2a46"].exports["__widl_f_bind_vertex_array_WebGL2RenderingContext"](e,t)},__widl_f_buffer_data_with_i32_WebGL2RenderingContext:function(e,t,n,r){return a["2a46"].exports["__widl_f_buffer_data_with_i32_WebGL2RenderingContext"](e,t,n,r)},__widl_f_buffer_sub_data_with_i32_and_u8_array_WebGL2RenderingContext:function(e,t,n,r,i){return a["2a46"].exports["__widl_f_buffer_sub_data_with_i32_and_u8_array_WebGL2RenderingContext"](e,t,n,r,i)},__widl_f_clear_bufferfv_with_f32_array_WebGL2RenderingContext:function(e,t,n,r,i){return a["2a46"].exports["__widl_f_clear_bufferfv_with_f32_array_WebGL2RenderingContext"](e,t,n,r,i)},__widl_f_compressed_tex_sub_image_3d_with_array_buffer_view_WebGL2RenderingContext:function(e,t,n,r,i,s,o,c,u,l,_){return a["2a46"].exports["__widl_f_compressed_tex_sub_image_3d_with_array_buffer_view_WebGL2RenderingContext"](e,t,n,r,i,s,o,c,u,l,_)},__widl_f_create_vertex_array_WebGL2RenderingContext:function(e){return a["2a46"].exports["__widl_f_create_vertex_array_WebGL2RenderingContext"](e)},__widl_f_delete_vertex_array_WebGL2RenderingContext:function(e,t){return a["2a46"].exports["__widl_f_delete_vertex_array_WebGL2RenderingContext"](e,t)},__widl_f_draw_buffers_WebGL2RenderingContext:function(e,t){return a["2a46"].exports["__widl_f_draw_buffers_WebGL2RenderingContext"](e,t)},__widl_f_get_uniform_block_index_WebGL2RenderingContext:function(e,t,n,r){return a["2a46"].exports["__widl_f_get_uniform_block_index_WebGL2RenderingContext"](e,t,n,r)},__widl_f_tex_storage_2d_WebGL2RenderingContext:function(e,t,n,r,i,s){return a["2a46"].exports["__widl_f_tex_storage_2d_WebGL2RenderingContext"](e,t,n,r,i,s)},__widl_f_tex_storage_3d_WebGL2RenderingContext:function(e,t,n,r,i,s,o){return a["2a46"].exports["__widl_f_tex_storage_3d_WebGL2RenderingContext"](e,t,n,r,i,s,o)},__widl_f_tex_sub_image_2d_with_i32_and_i32_and_u32_and_type_and_opt_array_buffer_view_WebGL2RenderingContext:function(e,t,n,r,i,s,o,c,u,l){return a["2a46"].exports["__widl_f_tex_sub_image_2d_with_i32_and_i32_and_u32_and_type_and_opt_array_buffer_view_WebGL2RenderingContext"](e,t,n,r,i,s,o,c,u,l)},__widl_f_tex_sub_image_3d_with_opt_array_buffer_view_WebGL2RenderingContext:function(e,t,n,r,i,s,o,c,u,l,_,d){return a["2a46"].exports["__widl_f_tex_sub_image_3d_with_opt_array_buffer_view_WebGL2RenderingContext"](e,t,n,r,i,s,o,c,u,l,_,d)},__widl_f_uniform_block_binding_WebGL2RenderingContext:function(e,t,n,r){return a["2a46"].exports["__widl_f_uniform_block_binding_WebGL2RenderingContext"](e,t,n,r)},__widl_f_vertex_attrib_i_pointer_with_i32_WebGL2RenderingContext:function(e,t,n,r,i,s){return a["2a46"].exports["__widl_f_vertex_attrib_i_pointer_with_i32_WebGL2RenderingContext"](e,t,n,r,i,s)},__widl_f_active_texture_WebGL2RenderingContext:function(e,t){return a["2a46"].exports["__widl_f_active_texture_WebGL2RenderingContext"](e,t)},__widl_f_attach_shader_WebGL2RenderingContext:function(e,t,n){return a["2a46"].exports["__widl_f_attach_shader_WebGL2RenderingContext"](e,t,n)},__widl_f_bind_buffer_WebGL2RenderingContext:function(e,t,n){return a["2a46"].exports["__widl_f_bind_buffer_WebGL2RenderingContext"](e,t,n)},__widl_f_bind_framebuffer_WebGL2RenderingContext:function(e,t,n){return a["2a46"].exports["__widl_f_bind_framebuffer_WebGL2RenderingContext"](e,t,n)},__widl_f_bind_texture_WebGL2RenderingContext:function(e,t,n){return a["2a46"].exports["__widl_f_bind_texture_WebGL2RenderingContext"](e,t,n)},__widl_f_blend_equation_WebGL2RenderingContext:function(e,t){return a["2a46"].exports["__widl_f_blend_equation_WebGL2RenderingContext"](e,t)},__widl_f_blend_func_WebGL2RenderingContext:function(e,t,n){return a["2a46"].exports["__widl_f_blend_func_WebGL2RenderingContext"](e,t,n)},__widl_f_check_framebuffer_status_WebGL2RenderingContext:function(e,t){return a["2a46"].exports["__widl_f_check_framebuffer_status_WebGL2RenderingContext"](e,t)},__widl_f_compile_shader_WebGL2RenderingContext:function(e,t){return a["2a46"].exports["__widl_f_compile_shader_WebGL2RenderingContext"](e,t)},__widl_f_create_buffer_WebGL2RenderingContext:function(e){return a["2a46"].exports["__widl_f_create_buffer_WebGL2RenderingContext"](e)},__widl_f_create_framebuffer_WebGL2RenderingContext:function(e){return a["2a46"].exports["__widl_f_create_framebuffer_WebGL2RenderingContext"](e)},__widl_f_create_program_WebGL2RenderingContext:function(e){return a["2a46"].exports["__widl_f_create_program_WebGL2RenderingContext"](e)},__widl_f_create_shader_WebGL2RenderingContext:function(e,t){return a["2a46"].exports["__widl_f_create_shader_WebGL2RenderingContext"](e,t)},__widl_f_create_texture_WebGL2RenderingContext:function(e){return a["2a46"].exports["__widl_f_create_texture_WebGL2RenderingContext"](e)},__widl_f_delete_buffer_WebGL2RenderingContext:function(e,t){return a["2a46"].exports["__widl_f_delete_buffer_WebGL2RenderingContext"](e,t)},__widl_f_delete_framebuffer_WebGL2RenderingContext:function(e,t){return a["2a46"].exports["__widl_f_delete_framebuffer_WebGL2RenderingContext"](e,t)},__widl_f_delete_program_WebGL2RenderingContext:function(e,t){return a["2a46"].exports["__widl_f_delete_program_WebGL2RenderingContext"](e,t)},__widl_f_delete_shader_WebGL2RenderingContext:function(e,t){return a["2a46"].exports["__widl_f_delete_shader_WebGL2RenderingContext"](e,t)},__widl_f_delete_texture_WebGL2RenderingContext:function(e,t){return a["2a46"].exports["__widl_f_delete_texture_WebGL2RenderingContext"](e,t)},__widl_f_disable_WebGL2RenderingContext:function(e,t){return a["2a46"].exports["__widl_f_disable_WebGL2RenderingContext"](e,t)},__widl_f_draw_arrays_WebGL2RenderingContext:function(e,t,n,r){return a["2a46"].exports["__widl_f_draw_arrays_WebGL2RenderingContext"](e,t,n,r)},__widl_f_enable_WebGL2RenderingContext:function(e,t){return a["2a46"].exports["__widl_f_enable_WebGL2RenderingContext"](e,t)},__widl_f_enable_vertex_attrib_array_WebGL2RenderingContext:function(e,t){return a["2a46"].exports["__widl_f_enable_vertex_attrib_array_WebGL2RenderingContext"](e,t)},__widl_f_framebuffer_texture_2d_WebGL2RenderingContext:function(e,t,n,r,i,s){return a["2a46"].exports["__widl_f_framebuffer_texture_2d_WebGL2RenderingContext"](e,t,n,r,i,s)},__widl_f_get_error_WebGL2RenderingContext:function(e){return a["2a46"].exports["__widl_f_get_error_WebGL2RenderingContext"](e)},__widl_f_get_extension_WebGL2RenderingContext:function(e,t,n){return a["2a46"].exports["__widl_f_get_extension_WebGL2RenderingContext"](e,t,n)},__widl_f_get_parameter_WebGL2RenderingContext:function(e,t){return a["2a46"].exports["__widl_f_get_parameter_WebGL2RenderingContext"](e,t)},__widl_f_get_program_info_log_WebGL2RenderingContext:function(e,t,n){return a["2a46"].exports["__widl_f_get_program_info_log_WebGL2RenderingContext"](e,t,n)},__widl_f_get_program_parameter_WebGL2RenderingContext:function(e,t,n){return a["2a46"].exports["__widl_f_get_program_parameter_WebGL2RenderingContext"](e,t,n)},__widl_f_get_shader_info_log_WebGL2RenderingContext:function(e,t,n){return a["2a46"].exports["__widl_f_get_shader_info_log_WebGL2RenderingContext"](e,t,n)},__widl_f_get_shader_parameter_WebGL2RenderingContext:function(e,t,n){return a["2a46"].exports["__widl_f_get_shader_parameter_WebGL2RenderingContext"](e,t,n)},__widl_f_get_uniform_location_WebGL2RenderingContext:function(e,t,n,r){return a["2a46"].exports["__widl_f_get_uniform_location_WebGL2RenderingContext"](e,t,n,r)},__widl_f_is_context_lost_WebGL2RenderingContext:function(e){return a["2a46"].exports["__widl_f_is_context_lost_WebGL2RenderingContext"](e)},__widl_f_link_program_WebGL2RenderingContext:function(e,t){return a["2a46"].exports["__widl_f_link_program_WebGL2RenderingContext"](e,t)},__widl_f_shader_source_WebGL2RenderingContext:function(e,t,n,r){return a["2a46"].exports["__widl_f_shader_source_WebGL2RenderingContext"](e,t,n,r)},__widl_f_tex_parameteri_WebGL2RenderingContext:function(e,t,n,r){return a["2a46"].exports["__widl_f_tex_parameteri_WebGL2RenderingContext"](e,t,n,r)},__widl_f_uniform1i_WebGL2RenderingContext:function(e,t,n){return a["2a46"].exports["__widl_f_uniform1i_WebGL2RenderingContext"](e,t,n)},__widl_f_uniform2i_WebGL2RenderingContext:function(e,t,n,r){return a["2a46"].exports["__widl_f_uniform2i_WebGL2RenderingContext"](e,t,n,r)},__widl_f_use_program_WebGL2RenderingContext:function(e,t){return a["2a46"].exports["__widl_f_use_program_WebGL2RenderingContext"](e,t)},__widl_f_viewport_WebGL2RenderingContext:function(e,t,n,r,i){return a["2a46"].exports["__widl_f_viewport_WebGL2RenderingContext"](e,t,n,r,i)},__wbg_new_3c32f9cd3d7f4595:function(){return a["2a46"].exports["__wbg_new_3c32f9cd3d7f4595"]()},__wbg_push_446cc0334a2426e8:function(e,t){return a["2a46"].exports["__wbg_push_446cc0334a2426e8"](e,t)},__wbg_new_d930e9e72c80e0f9:function(e,t){return a["2a46"].exports["__wbg_new_d930e9e72c80e0f9"](e,t)},__wbg_call_ce7cf17fc6380443:function(e,t,n){return a["2a46"].exports["__wbg_call_ce7cf17fc6380443"](e,t,n)},__wbg_buffer_1bb127df6348017b:function(e){return a["2a46"].exports["__wbg_buffer_1bb127df6348017b"](e)},__wbg_newwithbyteoffsetandlength_6b93e5ed7d4086de:function(e,t,n){return a["2a46"].exports["__wbg_newwithbyteoffsetandlength_6b93e5ed7d4086de"](e,t,n)},__wbg_length_95b24a2f871acd5e:function(e){return a["2a46"].exports["__wbg_length_95b24a2f871acd5e"](e)},__wbg_new_dca22b33e64c73c1:function(e){return a["2a46"].exports["__wbg_new_dca22b33e64c73c1"](e)},__wbg_set_73d74d5ab6493dfb:function(e,t,n){return a["2a46"].exports["__wbg_set_73d74d5ab6493dfb"](e,t,n)},__wbg_newwithbyteoffsetandlength_75da253bff87b0b8:function(e,t,n){return a["2a46"].exports["__wbg_newwithbyteoffsetandlength_75da253bff87b0b8"](e,t,n)},__wbg_new_b17f93a84ea4688e:function(e){return a["2a46"].exports["__wbg_new_b17f93a84ea4688e"](e)},__wbg_instanceof_Uint8Array_c55c5b2c5098c51e:function(e){return a["2a46"].exports["__wbg_instanceof_Uint8Array_c55c5b2c5098c51e"](e)},__wbindgen_number_get:function(e,t){return a["2a46"].exports["__wbindgen_number_get"](e,t)},__wbindgen_boolean_get:function(e){return a["2a46"].exports["__wbindgen_boolean_get"](e)},__wbindgen_debug_string:function(e,t){return a["2a46"].exports["__wbindgen_debug_string"](e,t)},__wbindgen_throw:function(e,t){return a["2a46"].exports["__wbindgen_throw"](e,t)},__wbindgen_rethrow:function(e){return a["2a46"].exports["__wbindgen_rethrow"](e)},__wbindgen_memory:function(){return a["2a46"].exports["__wbindgen_memory"]()}}}}};function u(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,u),n.l=!0,n.exports}u.e=function(e){var t=[],n=r[e];if(0!==n)if(n)t.push(n[2]);else{var a=new Promise((function(t,a){n=r[e]=[t,a]}));t.push(n[2]=a);var i,l=document.createElement("script");l.charset="utf-8",l.timeout=120,u.nc&&l.setAttribute("nonce",u.nc),l.src=s(e);var _=new Error;i=function(t){l.onerror=l.onload=null,clearTimeout(d);var n=r[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;_.message="Loading chunk "+e+" failed.\n("+a+": "+i+")",_.name="ChunkLoadError",_.type=a,_.request=i,n[1](_)}r[e]=void 0}};var d=setTimeout((function(){i({type:"timeout",target:l})}),12e4);l.onerror=l.onload=i,document.head.appendChild(l)}var p={"chunk-491d132c":["21a2"]}[e]||[];return p.forEach((function(e){var n=o[e];if(n)t.push(n);else{var a,r=c[e](),i=fetch(u.p+""+{"21a2":"ccc3dd63b633d0b5b2b3"}[e]+".module.wasm");if(r instanceof Promise&&"function"===typeof WebAssembly.compileStreaming)a=Promise.all([WebAssembly.compileStreaming(i),r]).then((function(e){return WebAssembly.instantiate(e[0],e[1])}));else if("function"===typeof WebAssembly.instantiateStreaming)a=WebAssembly.instantiateStreaming(i,r);else{var s=i.then((function(e){return e.arrayBuffer()}));a=s.then((function(e){return WebAssembly.instantiate(e,r)}))}t.push(o[e]=a.then((function(t){return u.w[e]=(t.instance||t).exports})))}})),Promise.all(t)},u.m=e,u.c=a,u.d=function(e,t,n){u.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},u.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.t=function(e,t){if(1&t&&(e=u(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(u.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)u.d(n,a,function(t){return e[t]}.bind(null,a));return n},u.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return u.d(t,"a",t),t},u.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},u.p="/equinox/",u.oe=function(e){throw console.error(e),e},u.w={};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],_=l.push.bind(l);l.push=t,l=l.slice();for(var d=0;d<l.length;d++)t(l[d]);var p=_;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"034f":function(e,t,n){"use strict";var a=n("64a9"),r=n.n(a);r.a},"053e":function(e,t,n){"use strict";var a=n("4d47"),r=n.n(a);r.a},"05fd":function(e,t,n){"use strict";var a=n("f05a"),r=n.n(a);r.a},1:function(e,t){},2:function(e,t){},3233:function(e,t,n){},"32ab":function(e,t,n){"use strict";var a=n("9388"),r=n.n(a);r.a},"3f5e":function(e,t,n){},"4d47":function(e,t,n){},"64a9":function(e,t,n){},6681:function(e,t,n){},"6a2f":function(e,t,n){"use strict";var a=n("8919"),r=n.n(a);r.a},"6a9b":function(e,t,n){},"7ddb":function(e,t,n){"use strict";var a=n("6681"),r=n.n(a);r.a},"850f":function(e,t,n){"use strict";var a=n("6a9b"),r=n.n(a);r.a},8919:function(e,t,n){},"8a78":function(e,t,n){"use strict";var a=n("fbb9"),r=n.n(a);r.a},9388:function(e,t,n){},"9ede":function(e,t,n){},cd49:function(e,t,n){"use strict";n.r(t);n("96cf");var a=n("3b8d"),r=(n("cadf"),n("551c"),n("f751"),n("097d"),n("2b0e")),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("div",{staticClass:"canvas-panel"},[n("CanvasContainer",{attrs:{equinox:e.equinox,scene:e.scene,"assets-in-flight":e.assetsInFlight,"load-assets":e.loadAssets,"clear-assets":e.clearAssets,"get-asset":e.getAsset}})],1),n("div",{staticClass:"editor-panel"},[n("EditorContainer",{staticClass:"editor",attrs:{"tabs-above":e.editorTabsAbove,"tabs-below":e.editorTabsBelow,defaultTab:e.defaultEditorTab}},[n("template",{slot:"tab-head-advanced"},[e._v("Advanced Editor")]),n("template",{slot:"tab-panel-advanced"},[n("AdvancedEditor",{attrs:{scene:e.scene}})],1),n("template",{slot:"tab-head-camera"},[e._v("Camera")]),n("template",{slot:"tab-panel-camera"},[n("CameraEditor",{attrs:{scene:e.scene}})],1),n("template",{slot:"tab-head-environment"},[e._v("Environment")]),n("template",{slot:"tab-panel-environment"},[n("EnvironmentEditor",{attrs:{scene:e.scene}})],1),n("template",{slot:"tab-head-documentation"},[e._v("Documentation")]),n("template",{slot:"tab-panel-documentation"},[n("DocumentationEditor")],1),n("template",{slot:"tab-head-save-load"},[e._v("Save/Load")]),n("template",{slot:"tab-panel-save-load"},[n("SaveLoadEditor",{attrs:{scene:e.scene}})],1),n("template",{slot:"tab-head-licensing"},[e._v("Licensing")]),n("template",{slot:"tab-panel-licensing"},[n("LicensingEditor",{attrs:{licensing:e.equinox.licensing(),version:e.equinox.version()}})],1)],2)],1)])},s=[],o=(n("a481"),n("aef6"),n("34ef"),n("768b")),c=(n("6762"),n("2fdb"),n("ac4d"),n("8a81"),n("ac6a"),n("5df3"),n("f400"),n("d225")),u=n("b0b4"),l=n("308d"),_=n("6bb5"),d=n("4e2b"),p=n("9ab4"),h=n("60a3"),f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"settings"},[n("div",{staticClass:"settings-cell settings-label"},[e._v("Environment Type")]),n("div",{staticClass:"settings-cell"},[n("select",{attrs:{selected:""},domProps:{value:e.environmentType},on:{change:function(t){return e.changeEnvironmentType(t.target.value)}}},[n("option",{attrs:{value:"solid"}},[e._v("Solid")]),n("option",{attrs:{value:"map"}},[e._v("Map")])])]),n("div",{staticClass:"settings-cell settings-label"},[e._v("Environment Map")]),n("div",{staticClass:"settings-cell"},[n("select",{attrs:{disabled:!e.isMapEnvironment,selected:""},domProps:{value:e.environmentMap},on:{change:function(t){return e.changeEnvironmentMap(t.target.value)}}},e._l(e.ENVIRONMENT_MAPS,(function(t){return n("option",{key:t.data,domProps:{value:t.data}},[e._v(e._s(t.name))])})),0)]),n("div",{staticClass:"settings-cell settings-label"},[e._v("Environment Tint")]),n("div",{staticClass:"settings-cell"},[n("input",{attrs:{type:"color"},domProps:{value:e.environmentTintHex},on:{change:function(t){return e.changeEnvironmentTint(t.target.value)}}})]),n("div",{staticClass:"settings-cell settings-label"},[e._v("Environment Rotation")]),n("div",{staticClass:"settings-cell"},[n("vue-slider",{attrs:{min:0,max:6.2832,disabled:!e.isMapEnvironment,tooltip:"none",interval:1e-4,value:e.environmentRotation,contained:"true"},on:{change:e.changeEnvironmentRotation,dragging:e.changeEnvironmentRotation}})],1)])])},b=[],v=n("bb15"),m=n.n(v),g=function(e){function t(){var e;return Object(c["a"])(this,t),e=Object(l["a"])(this,Object(_["a"])(t).apply(this,arguments)),e.ENVIRONMENT_MAPS=[{name:"Aft Lounge (1K)",data:"aft_lounge_1k.raw"},{name:"Aft Lounge (2K)",data:"aft_lounge_2k.raw"},{name:"Aft Lounge (4K)",data:"aft_lounge_4k.raw"},{name:"Aft Lounge (8K)",data:"aft_lounge_8k.raw"},{name:"Bethnal Green Entrance (4K)",data:"bethnal_green_entrance_4k.raw"},{name:"Between Bridges (1K)",data:"between_bridges_1k.raw"},{name:"Between Bridges (2K)",data:"between_bridges_2k.raw"},{name:"Between Bridges (4K)",data:"between_bridges_4k.raw"},{name:"Between Bridges (8K)",data:"between_bridges_8k.raw"},{name:"Blue Grotto (4K)",data:"blue_grotto_4k.raw"},{name:"Blue Lagoon Night (4K)",data:"blue_lagoon_night_4k.raw"},{name:"Blue Lagoon Night (8K)",data:"blue_lagoon_night_8k.raw"},{name:"Carpentry Shop 02 (4K)",data:"carpentry_shop_02_4k.raw"},{name:"Cayley Interior (8K)",data:"cayley_interior_8k.raw"},{name:"Cinema Lobby (4K)",data:"cinema_lobby_4k.raw"},{name:"Cinema Lobby (8K)",data:"cinema_lobby_8k.raw"},{name:"Green Point Park (8K)",data:"green_point_park_8k.raw"},{name:"Lenong 2 (1K)",data:"lenong_2_1k.raw"},{name:"Lenong 2 (2K)",data:"lenong_2_2k.raw"},{name:"Lenong 2 (4K)",data:"lenong_2_4k.raw"},{name:"Moonless Golf (4K)",data:"moonless_golf_4k.raw"},{name:"Moonless Golf (8K)",data:"moonless_golf_8k.raw"},{name:"Noon Grass (2K)",data:"noon_grass_2k.raw"},{name:"Noon Grass (4K)",data:"noon_grass_4k.raw"},{name:"Noon Grass (8K)",data:"noon_grass_8k.raw"},{name:"Old Outdoor Theater (4K)",data:"old_outdoor_theater_4k.raw"},{name:"Paul Lobe Haus (4K)",data:"paul_lobe_haus_4k.raw"},{name:"Sunny Vondelpark (2K)",data:"sunny_vondelpark_2k.raw"},{name:"Sunny Vondelpark (4K)",data:"sunny_vondelpark_4k.raw"},{name:"Sunny Vondelpark (8K)",data:"sunny_vondelpark_8k.raw"}],e.environmentType="solid",e.environmentMap=null,e.environmentTint=[1,1,1],e.environmentRotation=0,e}return Object(d["a"])(t,e),Object(u["a"])(t,[{key:"changeEnvironmentMap",value:function(e){this.environmentMap=e,this.update()}},{key:"changeEnvironmentType",value:function(e){this.environmentType=e,"map"===this.environmentType&&null===this.environmentMap&&(this.environmentMap=this.ENVIRONMENT_MAPS[0].data),this.update()}},{key:"changeEnvironmentRotation",value:function(e){this.environmentRotation=e,this.update()}},{key:"changeEnvironmentTint",value:function(e){this.environmentTint=this.hexToRgb(e),this.update()}},{key:"rgbToHex",value:function(e){return"#".concat(m.a.rgb.hex([255*e[0],255*e[1],255*e[2]]))}},{key:"hexToRgb",value:function(e){var t=m.a.hex.rgb(e);return[t[0]/255,t[1]/255,t[2]/255]}},{key:"created",value:function(){var e=this.getSceneData(),t=Object(o["a"])(e,2),n=t[0],a=t[1];this.environmentType=a.type,this.environmentTint=a.tint,"map"===a.type&&(this.environmentRotation=a.rotation),this.environmentMap=n.environment_map}},{key:"update",value:function(){var e=this.getSceneData(),t=Object(o["a"])(e,2),n=t[0],a=t[1];a.type=this.environmentType,a.tint=this.environmentTint,"map"===a.type&&(a.rotation=this.environmentRotation),n.environment_map=this.environmentMap,this.scene.set_json(n)}},{key:"getSceneData",value:function(){var e=this.scene.json();return[e,e.environment]}},{key:"environmentTintHex",get:function(){return this.rgbToHex(this.environmentTint)}},{key:"isMapEnvironment",get:function(){return"map"===this.environmentType}}]),t}(h["c"]);Object(p["a"])([Object(h["b"])()],g.prototype,"scene",void 0),g=Object(p["a"])([h["a"]],g);var x=g,w=x,y=(n("7ddb"),n("2877")),C=Object(y["a"])(w,f,b,!1,null,"6d701368",null),k=C.exports,R=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"settings"},[n("div",{staticClass:"settings-cell settings-label"},[e._v("Field of View")]),n("div",{staticClass:"settings-cell"},[n("vue-slider",{attrs:{min:.01,max:1,tooltip:"none",interval:.001,value:e.fieldOfView,contained:"true"},on:{change:e.changeFieldOfView,dragging:e.changeFieldOfView}})],1),n("div",{staticClass:"settings-cell settings-label"},[e._v("Focal Curvature")]),n("div",{staticClass:"settings-cell"},[n("vue-slider",{attrs:{min:0,max:1,tooltip:"none",interval:.001,value:e.focalCurvature,contained:"true"},on:{change:e.changeFocalCurvature,dragging:e.changeFocalCurvature}})],1),n("div",{staticClass:"settings-cell settings-label"},[e._v("Aperture Type")]),n("div",{staticClass:"settings-cell"},[n("select",{attrs:{selected:""},domProps:{value:e.apertureType},on:{change:function(t){return e.changeApertureType(t.target.value)}}},[n("option",{attrs:{value:"point"}},[e._v("Point")]),n("option",{attrs:{value:"circle"}},[e._v("Circle")]),n("option",{attrs:{value:"ngon"}},[e._v("Polygon")])])]),n("div",{staticClass:"settings-cell settings-label",class:{"settings-label-disabled":!e.hasApertureRadius}},[e._v("\n      Aperture Radius\n    ")]),n("div",{staticClass:"settings-cell"},[n("vue-slider",{attrs:{min:0,max:1,disabled:!e.hasApertureRadius,tooltip:"none",interval:.001,value:e.apertureRadius,contained:"true"},on:{change:e.changeApertureRadius,dragging:e.changeApertureRadius}})],1),n("div",{staticClass:"settings-cell settings-label",class:{"settings-label-disabled":!e.hasApertureRadius}},[e._v("\n      Focal Distance\n    ")]),n("div",{staticClass:"settings-cell"},[n("vue-slider",{attrs:{min:.01,max:100,disabled:!e.hasApertureRadius,tooltip:"none",interval:.001,value:e.focalDistance,contained:"true"},on:{change:e.changeFocalDistance,dragging:e.changeFocalDistance}})],1),n("div",{staticClass:"settings-cell settings-label",class:{"settings-label-disabled":!e.isPolygonAperture}},[e._v("\n      Aperture Rotation\n    ")]),n("div",{staticClass:"settings-cell"},[n("vue-slider",{attrs:{min:0,max:6.2832,disabled:!e.isPolygonAperture,tooltip:"none",interval:1e-4,value:e.apertureRotation,contained:"true"},on:{change:e.changeApertureRotation,dragging:e.changeApertureRotation}})],1),n("div",{staticClass:"settings-cell settings-label",class:{"settings-label-disabled":!e.isPolygonAperture}},[e._v("\n      Aperture Sides\n    ")]),n("div",{staticClass:"settings-cell"},[n("vue-slider",{attrs:{min:3,max:12,disabled:!e.isPolygonAperture,tooltip:"none",interval:1,adsorb:!0,value:e.apertureSides,contained:"true"},on:{change:e.changeApertureSides,dragging:e.changeApertureSides}})],1)])])},j=[],O=function(e){function t(){var e;return Object(c["a"])(this,t),e=Object(l["a"])(this,Object(_["a"])(t).apply(this,arguments)),e.apertureType="point",e.apertureRadius=0,e.apertureSides=5,e.apertureRotation=0,e.focalDistance=0,e.focalCurvature=0,e.fieldOfView=0,e}return Object(d["a"])(t,e),Object(u["a"])(t,[{key:"changeApertureType",value:function(e){this.apertureType=e,this.update()}},{key:"changeApertureRadius",value:function(e){this.apertureRadius=e,this.update()}},{key:"changeFocalDistance",value:function(e){this.focalDistance=e,this.update()}},{key:"changeApertureRotation",value:function(e){this.apertureRotation=e,this.update()}},{key:"changeApertureSides",value:function(e){this.apertureSides=e,this.update()}},{key:"changeFocalCurvature",value:function(e){this.focalCurvature=e,this.update()}},{key:"changeFieldOfView",value:function(e){this.fieldOfView=e,this.update()}},{key:"created",value:function(){var e=this.getSceneData(),t=Object(o["a"])(e,2),n=(t[0],t[1]);switch(this.apertureType=n.aperture.type,n.aperture.type){case"circle":this.apertureRadius=n.aperture.radius;break;case"ngon":this.apertureRadius=n.aperture.radius,this.apertureSides=n.aperture.sides,this.apertureRotation=n.aperture.rotation;break}this.focalDistance=n.focal_distance,this.focalCurvature=n.focal_curvature,this.fieldOfView=n.field_of_view}},{key:"update",value:function(){var e=this.getSceneData(),t=Object(o["a"])(e,2),n=t[0],a=t[1];switch(a.aperture.type=this.apertureType,a.aperture.type){case"circle":a.aperture.radius=this.apertureRadius;break;case"ngon":a.aperture.radius=this.apertureRadius,a.aperture.sides=this.apertureSides,a.aperture.rotation=this.apertureRotation;break}a.focal_distance=this.focalDistance,a.focal_curvature=this.focalCurvature,a.field_of_view=this.fieldOfView,this.scene.set_json(n)}},{key:"getSceneData",value:function(){var e=this.scene.json();return[e,e.camera]}},{key:"hasApertureRadius",get:function(){return"point"!==this.apertureType}},{key:"isPolygonAperture",get:function(){return"ngon"===this.apertureType}}]),t}(h["c"]);Object(p["a"])([Object(h["b"])()],O.prototype,"scene",void 0),O=Object(p["a"])([h["a"]],O);var L=O,S=L,E=(n("e56f"),Object(y["a"])(S,R,j,!1,null,"61a382d6",null)),W=E.exports,G=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("header",{staticClass:"container-header header-above"},[n("ul",{staticClass:"tab-heads"},e._l(e.tabsAbove,(function(t){return n("li",{key:t,staticClass:"tab-head above",class:{"tab-head--active":e.activeTab===t},on:{click:function(n){return e.switchTab(t)}}},[e._t("tab-head-"+t,[e._v(e._s(t))])],2)})),0)]),n("main",{staticClass:"container-body"},[e._t("tab-panel-"+this.activeTab)],2),n("header",{staticClass:"container-header header-below"},[n("ul",{staticClass:"tab-heads"},e._l(e.tabsBelow,(function(t){return n("li",{key:t,staticClass:"tab-head below",class:{"tab-head--active":e.activeTab===t},on:{click:function(n){return e.switchTab(t)}}},[e._t("tab-head-"+t,[e._v(e._s(t))])],2)})),0)])])},T=[],A=function(e){function t(){var e;return Object(c["a"])(this,t),e=Object(l["a"])(this,Object(_["a"])(t).apply(this,arguments)),e.activeTab=e.defaultTab,e}return Object(d["a"])(t,e),Object(u["a"])(t,[{key:"switchTab",value:function(e){this.activeTab=e}}]),t}(h["c"]);Object(p["a"])([Object(h["b"])()],A.prototype,"tabsAbove",void 0),Object(p["a"])([Object(h["b"])()],A.prototype,"tabsBelow",void 0),Object(p["a"])([Object(h["b"])()],A.prototype,"defaultTab",void 0),A=Object(p["a"])([h["a"]],A);var P=A,F=P,M=(n("d43b"),Object(y["a"])(F,G,T,!1,null,"5fdbfb9c",null)),I=M.exports,D=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},K=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h2",[e._v("Equinox Renderer")]),n("p",[e._v("\n    This is a WebGL2 real-time stochastic photon mapper implemented using Rust\n    WebAssembly. Like path tracing, it is progressive, meaning that the render\n    starts out noisy and gradually improves over time, and it can produce\n    highly accurate and pleasing images.\n  ")]),n("h3",[e._v("Quick Start")]),n("p",[e._v("\n    The application is divided into two panels, with the render output on one\n    side and editing controls on the other. The editing controls are divided\n    into tabs which each allow editing some aspect of the scene. Each scene\n    also contains a camera from the perspective of which an image is rendered.\n    To control the camera, hold down the left or right mouse button and use\n    the mouse and keyboard:\n  ")]),n("table",{staticStyle:{width:"100%"}},[n("tr",[n("td",[e._v("Reorient the camera")]),n("td",[e._v("Mouse movement (FPS-like)")])]),n("tr",[n("td",[e._v("Reposition the camera")]),n("td",[e._v("WASD, Q (up), Z (down)")])]),n("tr",[n("td",[e._v("Adjust movement speed")]),n("td",[e._v("Scroll Wheel")])])]),n("p",[e._v("\n    A default scene with a few objects in it has been configured. Explore the\n    editing options using this scene (a good starting point is to set an\n    environment map for more interesting lighting) or load another scene.\n  ")])])}],N=function(e){function t(){return Object(c["a"])(this,t),Object(l["a"])(this,Object(_["a"])(t).apply(this,arguments))}return Object(d["a"])(t,e),t}(h["c"]);N=Object(p["a"])([h["a"]],N);var z=N,B=z,q=Object(y["a"])(B,D,K,!1,null,"5934845b",null),$=q.exports,U=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("div",{staticClass:"attribution"},[n("p",[e._v(e._s(e.version))]),n("hr"),e._m(0),n("hr")]),n("div",{staticClass:"licensing"},[n("pre",[e._v(e._s(e.licensing))])])])},V=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[e._v("\n      All environment maps from\n      "),n("a",{attrs:{href:"https://hdrihaven.com/"}},[e._v("HDRI Haven")]),e._v(" and most textures from\n      "),n("a",{attrs:{href:"https://texturehaven.com/"}},[e._v("Texture Haven")]),e._v(".\n    ")])}],H=function(e){function t(){return Object(c["a"])(this,t),Object(l["a"])(this,Object(_["a"])(t).apply(this,arguments))}return Object(d["a"])(t,e),t}(h["c"]);Object(p["a"])([Object(h["b"])()],H.prototype,"licensing",void 0),Object(p["a"])([Object(h["b"])()],H.prototype,"version",void 0),H=Object(p["a"])([h["a"]],H);var J=H,Q=J,X=(n("d7e8"),Object(y["a"])(Q,U,V,!1,null,"9f29f3ae",null)),Y=X.exports,Z=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"root"},[e._m(0),n("hr"),n("textarea",{ref:"editor"}),n("div",{staticClass:"log"},[n("p",{staticClass:"error"},[e._v(e._s(e.error))])])])},ee=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ul",[n("li",[n("b",[e._v("WARNING")]),e._v(": On Windows, shader builds can be extremely slow due to\n      ANGLE; it is recommended to configure your browser to use native OpenGL\n      if possible to improve build times; see\n      "),n("a",{staticClass:"hyperlink",attrs:{target:"_blank",rel:"noopener noreferrer",href:"https://github.com/mrdoob/three.js/wiki/How-to-use-OpenGL-or-ANGLE-rendering-on-Windows"}},[e._v("this link")]),e._v("\n      for directions.\n    ")]),n("li",[n("b",[e._v("Note")]),e._v(": any camera interaction performed while this editor is open\n      will be rolled back on any change to the scene JSON; the JSON will not\n      update automatically.\n    ")])])}],te=n("56b3"),ne=n.n(te),ae=function(e){function t(){var e;return Object(c["a"])(this,t),e=Object(l["a"])(this,Object(_["a"])(t).apply(this,arguments)),e.error="",e}return Object(d["a"])(t,e),Object(u["a"])(t,[{key:"mounted",value:function(){var e=this,t=ne.a.fromTextArea(this.$refs.editor,{mode:"application/json",gutters:["CodeMirror-lint-markers"],lineNumbers:!0,tabSize:2,theme:"monokai",lint:!0});t.on("change",(function(){e.onJsonChange(t.getValue())})),t.setValue(JSON.stringify(this.scene.json(),null,2)),t.clearHistory()}},{key:"onJsonChange",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=this.validateJson(t),null!==n&&(a=this.updateScene(n),this.error=null!==a?a:"");case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"validateJson",value:function(e){try{return JSON.parse(e)}catch(t){return this.error="JSON syntax error",null}}},{key:"updateScene",value:function(e){try{return this.scene.set_json(e),null}catch(t){return t.message}}}]),t}(h["c"]);Object(p["a"])([Object(h["b"])()],ae.prototype,"scene",void 0),ae=Object(p["a"])([h["a"]],ae);var re=ae,ie=re,se=(n("32ab"),n("eabb"),Object(y["a"])(ie,Z,ee,!1,null,"12966d58",null)),oe=se.exports,ce=n("a002"),ue=n.n(ce),le=n("d7ac"),_e=n.n(le),de=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("canvas",{ref:"canvas",staticClass:"canvas",class:{"canvas-locked":e.isCameraLocked||e.isRenderPaused},style:e.canvasStyle,attrs:{tabindex:"0"},on:{mousedown:function(t){return e.enterCapture()},mouseup:function(t){return e.leaveCapture()},mouseleave:function(t){return e.leaveCapture()},mousemove:function(t){return e.moveCamera(t)},wheel:function(t){return e.onMouseWheel(t.deltaY)},keydown:function(t){return e.pressKey(t.key)},keyup:function(t){return e.releaseKey(t.key)},keypress:function(t){return e.onKeyPress(t)},contextmenu:function(e){return e.preventDefault()}}}),n("CanvasOverlay",{attrs:{"assets-in-flight":e.assetsInFlight,"is-expensive-update":e.isExpensiveUpdate,"error-message":e.updateError}}),e.showStatusBar?n("StatusBar",{staticClass:"status-bar",attrs:{"sppm-passes":e.sppmPasses,"sppm-photons":e.sppmPhotons,"is-context-lost":e.isContextLost,width:e.canvasWidth,height:e.canvasHeight,vendor:e.contextVendor,renderer:e.contextRenderer,cpuFrameTime:e.cpuFrameTime,gpuFrameTime:e.gpuFrameTime,syncInterval:e.syncInterval}}):e._e(),n("Toolbar",{attrs:{"on-save-render":e.onSaveRender,"on-toggle-fullscreen":e.toggleFullscreen,"is-camera-locked":e.isCameraLocked,"is-render-paused":e.isRenderPaused,"is-saving-render":e.isSavingRender},on:{"camera-lock":function(t){return e.toggleCameraLock()},"render-pause":function(t){return e.toggleRenderPause()}}})],1)},pe=[],he=(n("7f7f"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"status"},[n("div",{staticClass:"frame-rate"},[n("pre",[n("p",[e._v(e._s(e.frameRate))])])]),n("div",{staticClass:"resolution"},[n("pre",[n("p",[e._v(e._s(e.width)+"×"+e._s(e.height))])])]),n("div",{staticClass:"pass-info"},[n("pre",[n("p",[e._v(e._s(e.passInfo))])])]),n("div",{staticClass:"frame-cpu-time"},[n("pre",[n("p",[e._v(e._s(e.cpuFrameInfo))])])]),n("div",{staticClass:"frame-gpu-time"},[n("pre",[n("p",[e._v(e._s(e.gpuFrameInfo))])])]),n("div",{staticClass:"device-info"},[n("pre",[n("p",[e._v(e._s(e.renderer)+" ("+e._s(e.vendor)+")")])])])])}),fe=[];n("f576");function be(e){return e<=.099?"".concat((1e3*e).toFixed(0).padStart(4," ")," μs"):"".concat(e<=99?e.toFixed(1).padStart(4," "):e.toFixed(0).padStart(4," ")," ms")}function ve(e){return 1===e?"1 photon":e<1e3?"".concat(e," photons"):e<1e6?"".concat((e/1e3).toFixed(1),"K photons"):e<1e9?"".concat((e/1e6).toFixed(1),"M photons"):e<1e12?"".concat((e/1e9).toFixed(1),"B photons"):"".concat((e/1e12).toFixed(1),"T photons")}var me=function(e){function t(){return Object(c["a"])(this,t),Object(l["a"])(this,Object(_["a"])(t).apply(this,arguments))}return Object(d["a"])(t,e),Object(u["a"])(t,[{key:"passInfo",get:function(){return this.isContextLost?"CONTEXT LOST!":1===this.sppmPasses?"1 pass, ".concat(ve(this.sppmPhotons)):"".concat(this.sppmPasses," passes, ").concat(ve(this.sppmPhotons))}},{key:"frameRate",get:function(){return null===this.syncInterval?"-- FPS":"".concat((1e3/this.syncInterval).toFixed(0)," FPS")}},{key:"cpuFrameInfo",get:function(){return null===this.cpuFrameTime?"CPU time:   N/A  ":"CPU time: ".concat(be(1e3*this.cpuFrameTime))}},{key:"gpuFrameInfo",get:function(){return null===this.gpuFrameTime?"GPU time:   N/A  ":"GPU time: ".concat(be(1e3*this.gpuFrameTime))}}]),t}(h["c"]);Object(p["a"])([Object(h["b"])()],me.prototype,"width",void 0),Object(p["a"])([Object(h["b"])()],me.prototype,"height",void 0),Object(p["a"])([Object(h["b"])()],me.prototype,"sppmPasses",void 0),Object(p["a"])([Object(h["b"])()],me.prototype,"sppmPhotons",void 0),Object(p["a"])([Object(h["b"])()],me.prototype,"vendor",void 0),Object(p["a"])([Object(h["b"])()],me.prototype,"renderer",void 0),Object(p["a"])([Object(h["b"])()],me.prototype,"isContextLost",void 0),Object(p["a"])([Object(h["b"])()],me.prototype,"cpuFrameTime",void 0),Object(p["a"])([Object(h["b"])()],me.prototype,"gpuFrameTime",void 0),Object(p["a"])([Object(h["b"])()],me.prototype,"syncInterval",void 0),me=Object(p["a"])([h["a"]],me);var ge=me,xe=ge,we=(n("053e"),Object(y["a"])(xe,he,fe,!1,null,"0ef3fcda",null)),ye=we.exports,Ce=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"toolbar"},[n("div",{staticClass:"toolbar-item",attrs:{title:"Toggle fullscreen mode"},on:{click:function(t){return e.onToggleFullscreen()}}},[n("font-awesome-icon",{staticClass:"toolbar-icon",attrs:{icon:"expand",size:"2x"}})],1),n("div",{staticClass:"toolbar-item",attrs:{title:"Save the current render"},on:{click:function(t){return e.onSaveRender()}}},[e.isSavingRender?e._e():n("font-awesome-icon",{staticClass:"toolbar-icon",attrs:{icon:"download",size:"2x"}}),e.isSavingRender?n("font-awesome-icon",{staticClass:"toolbar-icon",attrs:{icon:"cog",spin:"",size:"2x"}}):e._e()],1),e.isRenderPaused?e._e():n("div",{staticClass:"toolbar-item",attrs:{title:"Pause the render"},on:{click:function(t){return e.toggleRenderPause()}}},[n("font-awesome-icon",{staticClass:"toolbar-icon",attrs:{icon:"pause",size:"2x"}})],1),e.isRenderPaused?n("div",{staticClass:"toolbar-item",attrs:{title:"Resume the render"},on:{click:function(t){return e.toggleRenderPause()}}},[n("font-awesome-icon",{staticClass:"toolbar-icon",attrs:{icon:"play",size:"2x"}})],1):e._e(),e.isCameraLocked?e._e():n("div",{staticClass:"toolbar-item",attrs:{title:"Lock the camera"},on:{click:function(t){return e.toggleCameraLock()}}},[n("font-awesome-icon",{staticClass:"toolbar-icon",attrs:{icon:"unlock",size:"2x"}})],1),e.isCameraLocked?n("div",{staticClass:"toolbar-item",attrs:{title:"Unlock the camera"},on:{click:function(t){return e.toggleCameraLock()}}},[n("font-awesome-icon",{staticClass:"toolbar-icon",attrs:{icon:"lock",size:"2x"}})],1):e._e()])},ke=[],Re=function(e){function t(){return Object(c["a"])(this,t),Object(l["a"])(this,Object(_["a"])(t).apply(this,arguments))}return Object(d["a"])(t,e),Object(u["a"])(t,[{key:"toggleCameraLock",value:function(){this.$emit("camera-lock")}},{key:"toggleRenderPause",value:function(){this.$emit("render-pause")}}]),t}(h["c"]);Object(p["a"])([Object(h["b"])()],Re.prototype,"onToggleFullscreen",void 0),Object(p["a"])([Object(h["b"])()],Re.prototype,"onSaveRender",void 0),Object(p["a"])([Object(h["b"])()],Re.prototype,"isSavingRender",void 0),Object(p["a"])([Object(h["b"])()],Re.prototype,"isCameraLocked",void 0),Object(p["a"])([Object(h["b"])()],Re.prototype,"isRenderPaused",void 0),Re=Object(p["a"])([h["a"]],Re);var je=Re,Oe=je,Le=(n("6a2f"),Object(y["a"])(Oe,Ce,ke,!1,null,"dbe322e4",null)),Se=Le.exports,Ee=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",["error"===e.overlayType?n("div",{staticClass:"overlay"},[n("font-awesome-icon",{staticClass:"icon error",attrs:{icon:"exclamation-triangle",size:"lg"}}),n("p",{staticClass:"error"},[e._v(e._s(e.errorMessage))])],1):e._e(),"download"===e.overlayType?n("div",{staticClass:"overlay info"},[n("font-awesome-icon",{staticClass:"icon",attrs:{icon:"circle-notch",spin:"",size:"lg"}}),n("p",{staticClass:"info"},[e._v(e._s(e.downloadText))])],1):e._e(),"update"===e.overlayType?n("div",{staticClass:"overlay info"},[n("font-awesome-icon",{staticClass:"icon",attrs:{icon:"exclamation-circle",size:"lg"}}),n("p",{staticClass:"info"},[e._v("Updating scene...")])],1):e._e()])},We=[],Ge=function(e){function t(){return Object(c["a"])(this,t),Object(l["a"])(this,Object(_["a"])(t).apply(this,arguments))}return Object(d["a"])(t,e),Object(u["a"])(t,[{key:"overlayType",get:function(){return null!==this.errorMessage?"error":0!==this.assetsInFlight?"download":this.isExpensiveUpdate?"update":null}},{key:"downloadText",get:function(){return this.assetsInFlight>1?"Downloading ".concat(this.assetsInFlight," assets"):"Downloading 1 asset"}}]),t}(h["c"]);Object(p["a"])([Object(h["b"])()],Ge.prototype,"assetsInFlight",void 0),Object(p["a"])([Object(h["b"])()],Ge.prototype,"isExpensiveUpdate",void 0),Object(p["a"])([Object(h["b"])()],Ge.prototype,"errorMessage",void 0),Ge=Object(p["a"])([h["a"]],Ge);var Te=Ge,Ae=Te,Pe=(n("850f"),Object(y["a"])(Ae,Ee,We,!1,null,"e4544f5c",null)),Fe=Pe.exports,Me=n("7c39"),Ie=n.n(Me),De=n("21a6"),Ke=n.n(De);function Ne(e){var t=e.getExtension("WEBGL_debug_renderer_info"),n=e.getParameter(e.VENDOR);return null===t?n:e.getParameter(t.UNMASKED_VENDOR_WEBGL)||n}function ze(e){var t=e.getExtension("WEBGL_debug_renderer_info"),n=e.getParameter(e.RENDERER);return null===t?n:e.getParameter(t.UNMASKED_RENDERER_WEBGL)||n}var Be=function(){function e(t){var n=this;Object(c["a"])(this,e),this.context=t,this.pending=[],this.running=[],this.extension=t.getExtension("EXT_disjoint_timer_query_webgl2"),this.context.canvas.addEventListener("webglcontextrestored",(function(){n.extension=t.getExtension("EXT_disjoint_timer_query_webgl2")}))}return Object(u["a"])(e,[{key:"clear",value:function(){this.pending.length=0,this.running.length=0,this.extension=null}},{key:"timeElapsed",value:function(e){if(null===this.extension)return e(),null;var t=this.pending.shift()||this.context.createQuery();if(null===t)return e(),null;if(this.context.beginQuery(this.extension.TIME_ELAPSED_EXT,t),e(),this.context.endQuery(this.extension.TIME_ELAPSED_EXT),this.running.push(t),this.running.length<2)return null;var n=this.running[0],a=this.context.getQueryParameter(n,this.context.QUERY_RESULT_AVAILABLE)||!1;if(a&&!this.context.getParameter(this.extension.GPU_DISJOINT_EXT)){var r=this.context.getQueryParameter(n,this.context.QUERY_RESULT);return this.pending.push(this.running.shift()),r/1e9}return null}}]),e}(),qe=(n("c5f6"),function(){function e(t){Object(c["a"])(this,e),this.window=t,this.samples=[]}return Object(u["a"])(e,[{key:"addSample",value:function(e){this.samples.push(e);while(this.samples.length>this.window)this.samples.shift()}},{key:"minimum",value:function(){var e=Number.POSITIVE_INFINITY,t=!0,n=!1,a=void 0;try{for(var r,i=this.samples[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){var s=r.value;if(null===s)return null;e=Math.min(e,s)}}catch(o){n=!0,a=o}finally{try{t||null==i.return||i.return()}finally{if(n)throw a}}return e}},{key:"average",value:function(){var e=0,t=!0,n=!1,a=void 0;try{for(var r,i=this.samples[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){var s=r.value;if(null===s)return null;e+=s}}catch(o){n=!0,a=o}finally{try{t||null==i.return||i.return()}finally{if(n)throw a}}return e/this.samples.length}}]),e}()),$e=function(e){function t(){var e;return Object(c["a"])(this,t),e=Object(l["a"])(this,Object(_["a"])(t).apply(this,arguments)),e.isExpensiveUpdate=!1,e.updateError=null,e.animationFrame=null,e.showStatusBar=!0,e.canvasStyle="",e.keys={},e.theta=Math.PI/2,e.phi=-Math.PI/2,e.thetaChange=0,e.phiChange=0,e.movementSpeed=.1,e.mouseMoved=!1,e.thetaEstimator=new qe(10),e.phiEstimator=new qe(10),e.captured=!1,e.cpuFrameTimeEstimator=new qe(30),e.gpuFrameTimeEstimator=new qe(30),e.syncIntervalEstimator=new qe(30),e.cpuFrameTime=null,e.gpuFrameTime=null,e.syncInterval=null,e.gpuTimeQueries=null,e.extension=null,e.isContextLost=!1,e.mustSaveRender=!1,e.isSavingRender=!1,e.screenshot=null,e.isSceneSaveRequested=!1,e.isCameraLocked=!1,e.isRenderPaused=!1,e.canvas=null,e.context=null,e.canvasWidth=0,e.canvasHeight=0,e.sppmPhotons=0,e.sppmPasses=0,e.lastVsync=0,e}return Object(d["a"])(t,e),Object(u["a"])(t,[{key:"mounted",value:function(){var e=this,t=this.$refs.canvas;this.canvas=t,this.context=t.getContext("webgl2",{alpha:!1,antialias:!1,depth:!1,premultipliedAlpha:!1,stencil:!1,powerPreference:"high-performance",preserveDrawingBuffer:!1}),this.extension=this.context.getExtension("WEBGL_lose_context"),null===this.context&&alert("Sorry, your browser does not appear to support WebGL2!"),this.gpuTimeQueries=new Be(this.context),this.canvas.addEventListener("webglcontextlost",(function(t){e.gpuTimeQueries.clear(),e.clearAssets(),e.device.context_lost(),t.preventDefault()})),this.device=new this.equinox.WebDevice(this.context),this.$emit("device-created",this.device),"None"===this.device.texture_compression()&&alert("Your device or browser does not support compressed textures, some features may not work!"),this.canvas.focus(),this.animationFrame=requestAnimationFrame(this.renderLoop),this.$root.$on("save-scene-request",(function(){e.isSceneSaveRequested=!0}))}},{key:"resizeAndMaintainAspectRatio",value:function(){var e=this.$el.clientWidth,t=this.$el.clientHeight;if(0!==e&&0!==t){var n=this.canvas.width,a=this.canvas.height,r=n/e,i=a/t;this.canvasStyle=r<i?"\n        width: ".concat(Math.max(1,n/i),"px;\n        transform: translateX(-50%); left: 50%;\n\n        height: 100%;\n      "):"\n        height: ".concat(Math.max(1,a/r),"px;\n        transform: translateY(-50%); top: 50%;\n\n        width:  100%;\n      ")}}},{key:"toggleFullscreen",value:function(){null===document.fullscreenElement?this.$el.requestFullscreen():document.exitFullscreen()}},{key:"toggleCameraLock",value:function(){this.isCameraLocked=!this.isCameraLocked}},{key:"toggleRenderPause",value:function(){this.isRenderPaused=!this.isRenderPaused}},{key:"onSaveRender",value:function(){this.mustSaveRender=!0}},{key:"loseContext",value:function(){null!==this.extension&&this.extension.loseContext()}},{key:"restoreContext",value:function(){null!==this.extension&&this.extension.restoreContext()}},{key:"pressKey",value:function(e){this.captured&&(this.keys[e]=!0)}},{key:"saveScreenshot",value:function(){this.mustSaveRender=!0}},{key:"releaseKey",value:function(e){delete this.keys[e]}},{key:"moveCamera",value:function(e){if(this.captured&&(0!==e.movementX||0!==e.movementY)){if(!this.mouseMoved){var t=this.scene.json().camera.direction;this.phi=Math.atan2(t[2],t[0]),this.theta=Math.acos(t[1])}this.phiChange+=.001*-e.movementX,this.thetaChange+=.001*e.movementY,this.mouseMoved=!0}}},{key:"enterCapture",value:function(){null!==this.canvas&&(this.canvas.requestPointerLock(),this.captured=!0)}},{key:"leaveCapture",value:function(){null!==this.canvas&&(document.exitPointerLock(),this.captured=!1,this.keys={})}},{key:"onKeyPress",value:function(e){e.shiftKey&&"K"===e.key&&null!==this.extension&&this.extension.loseContext(),e.shiftKey&&"L"===e.key&&null!==this.extension&&this.extension.restoreContext(),e.shiftKey&&"O"===e.key&&(this.showStatusBar=!this.showStatusBar)}},{key:"onMouseWheel",value:function(e){this.movementSpeed*=Math.pow(1.1,e/64)}},{key:"performDeviceUpdate",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.isContextLost){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.loadAssets(this.scene.assets(),this.device.texture_compression());case 4:this.device.update(this.scene,this.getAsset);case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"renderLoop",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,n,a,r,i,s,o,c,u,l=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=performance.now(),0!==this.lastVsync&&this.syncIntervalEstimator.addSample(t-this.lastVsync),this.lastVsync=t,null===this.canvas||null===this.context||0==this.canvas.clientWidth||0==this.canvas.clientHeight){e.next=49;break}if(this.isContextLost=this.context.isContextLost(),n=0,a=0,r=0,this.keys["w"]&&(n+=1),this.keys["s"]&&(n-=1),this.keys["a"]&&(a-=1),this.keys["d"]&&(a+=1),this.keys["q"]&&(r+=1),this.keys["z"]&&(r-=1),0==n&&0==r&&0==a||this.scene.move_camera(a*this.movementSpeed,r*this.movementSpeed,n*this.movementSpeed),this.thetaEstimator.addSample(this.thetaChange),this.phiEstimator.addSample(this.phiChange),this.thetaChange=0,this.phiChange=0,this.mouseMoved&&(this.theta+=this.thetaEstimator.average(),this.phi+=this.phiEstimator.average(),this.theta>Math.PI-.01&&(this.theta=Math.PI-.01),this.theta<.01&&(this.theta=.01),i=Math.sin(this.theta)*Math.cos(this.phi),s=Math.sin(this.theta)*Math.sin(this.phi),o=Math.cos(this.theta),this.scene.set_camera_direction(i,o,s),this.mouseMoved=!1),this.sppmPhotons=this.device.sppm_photons(),this.sppmPasses=this.device.sppm_passes(),e.prev=22,this.isRenderPaused){e.next=37;break}if(!this.isExpensiveUpdate){e.next=30;break}return e.next=27,this.performDeviceUpdate();case 27:this.isExpensiveUpdate=!1,e.next=36;break;case 30:if(!this.device.is_expensive_update(this.scene)){e.next=34;break}this.isExpensiveUpdate=!0,e.next=36;break;case 34:return e.next=36,this.performDeviceUpdate();case 36:this.updateError=null;case 37:!this.isRenderPaused&&this.isExpensiveUpdate||(this.canvas.width=this.scene.raster_width(),this.canvas.height=this.scene.raster_height(),this.resizeAndMaintainAspectRatio(),this.canvasWidth=this.canvas.width,this.canvasHeight=this.canvas.height),c=this.gpuTimeQueries.timeElapsed((function(){l.isRenderPaused||l.device.refine()})),this.device.present(),this.mustSaveRender&&(this.generateScreenshotZip(),this.mustSaveRender=!1),this.isSceneSaveRequested&&(this.performSceneSave(),this.isSceneSaveRequested=!1),this.gpuFrameTimeEstimator.addSample(c),e.next=49;break;case 45:e.prev=45,e.t0=e["catch"](22),this.updateError=e.t0.message,this.isRenderPaused=!0;case 49:u=(performance.now()-t)/1e3,this.cpuFrameTimeEstimator.addSample(u),this.cpuFrameTime=this.cpuFrameTimeEstimator.minimum(),this.gpuFrameTime=this.gpuFrameTimeEstimator.minimum(),this.syncInterval=this.syncIntervalEstimator.average(),this.animationFrame=requestAnimationFrame(this.renderLoop);case 55:case"end":return e.stop()}}),e,this,[[22,45]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"generateScreenshotZip",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,n,a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.isSavingRender=!0,e.prev=1,t=new Ie.a,n=new Promise((function(e){r.canvas.toBlob((function(t){return e(t)}))})),a={sppm_passes:this.device.sppm_passes(),sppm_photons:this.device.sppm_photons(),vendor:this.contextVendor,renderer:this.contextRenderer,version:this.equinox.version()},t.file("scene.json",JSON.stringify(this.scene.json(),null,2)),t.file("meta.json",JSON.stringify(a,null,2)),e.t0=t,e.next=10,n;case 10:return e.t1=e.sent,e.t0.file.call(e.t0,"render.png",e.t1),e.t2=Ke.a,e.next=15,t.generateAsync({type:"blob"});case 15:e.t3=e.sent,e.t2.saveAs.call(e.t2,e.t3,"render.zip");case 17:return e.prev=17,this.isSavingRender=!1,e.finish(17);case 20:case"end":return e.stop()}}),e,this,[[1,,17,20]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"performSceneSave",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,n,a,r,i,s,c,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=this.scene.json(),n=this.scene.name(),a=320,r=180,i=this.resizeToRatio(this.canvas.width,this.canvas.height,a,r),s=Object(o["a"])(i,2),c=s[0],u=s[1],this.$root.$emit("save-scene-response",n,t,this.createThumbnail(this.canvas,c,u));case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"resizeToRatio",value:function(e,t,n,a){var r=e/n,i=t/a;return r<i?[e/i,a]:[n,t/r]}},{key:"createThumbnail",value:function(e,t,n){var a=document.createElement("canvas"),r=e.width,i=e.height;a.width=r,a.height=i,a.getContext("2d").drawImage(e,0,0);while(r/2>=t&&i/2>=n){var s=document.createElement("canvas");s.width=r/2,s.height=i/2,s.getContext("2d").drawImage(a,0,0,a.width,a.height,0,0,r/2,i/2),a=s,r/=2,i/=2}if(t!=r&&n!=i){var o=document.createElement("canvas");o.width=t,o.height=n,o.getContext("2d").drawImage(a,0,0,a.width,a.height,0,0,t,n),a=o}return a.toDataURL("image/jpeg",.9)}},{key:"contextVendor",get:function(){return null===this.context?"unknown":Ne(this.context)}},{key:"contextRenderer",get:function(){return null===this.context?"unknown":ze(this.context)}}]),t}(h["c"]);Object(p["a"])([Object(h["b"])()],$e.prototype,"equinox",void 0),Object(p["a"])([Object(h["b"])()],$e.prototype,"scene",void 0),Object(p["a"])([Object(h["b"])()],$e.prototype,"assetsInFlight",void 0),Object(p["a"])([Object(h["b"])()],$e.prototype,"loadAssets",void 0),Object(p["a"])([Object(h["b"])()],$e.prototype,"clearAssets",void 0),Object(p["a"])([Object(h["b"])()],$e.prototype,"getAsset",void 0),$e=Object(p["a"])([Object(h["a"])({components:{CanvasOverlay:Fe,StatusBar:ye,Toolbar:Se}})],$e);var Ue=$e,Ve=Ue,He=(n("05fd"),Object(y["a"])(Ve,de,pe,!1,null,"6c9540ad",null)),Je=He.exports,Qe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"scene-list"},[n("div",{staticClass:"scene-card"},[n("button",{staticClass:"button",attrs:{title:"Save the current scene"},on:{click:function(t){return e.requestSceneSave()}}},[n("div",{staticClass:"save-icon"},[n("font-awesome-icon",{attrs:{icon:"hdd",size:"2x"}})],1)])]),e._l(e.displayScenes,(function(t){return n("div",{key:t.name,staticClass:"scene-card"},[n("button",{staticClass:"button scene-name-container",style:"background-image: url("+t.thumbnail+")",on:{click:function(n){return e.loadScene(t.name)}}},[n("div",{staticClass:"scene-name"},[e._v(e._s(t.name))])]),n("div",{staticClass:"delete-scene",on:{click:function(n){return e.deleteScene(t.name)}}},[n("font-awesome-icon",{staticClass:"delete-icon",attrs:{icon:"trash",size:"lg"}})],1)])}))],2)},Xe=[],Ye=(n("55dd"),{name:"[Prefab] Glass Thickness",json:{metadata:{name:"[Prefab] Glass Thickness"},camera:{position:[-13.5,1.5,0],direction:[1,0,0],up_vector:[0,1,0],aperture:{type:"circle",radius:0},focal_distance:1,focal_curvature:0,field_of_view:.2},raster:{width:1280,height:720,filter:{type:"blackman-harris"}},instance_list:{glass1:{geometry:"box",material:"glass",parameters:{length:0,x:-1,y:1,z:3},photon_receiver:!0,sample_explicit:!0,visible:!0,medium:{extinction:[3e-8,3e-8,3e-8],refractive_index:1.55},parent:null},glass2:{geometry:"box",material:"glass",parameters:{length:.5,x:-.5,y:1,z:1},photon_receiver:!0,sample_explicit:!0,visible:!0,medium:{extinction:[3e-8,3e-8,3e-8],refractive_index:1.55},parent:null},glass3:{geometry:"box",material:"glass",parameters:{length:1,x:0,y:1,z:-1},photon_receiver:!0,sample_explicit:!0,visible:!0,medium:{extinction:[3e-8,3e-8,3e-8],refractive_index:1.55},parent:null},glass4:{geometry:"box",material:"glass",parameters:{length:2,x:1,y:1,z:-3},photon_receiver:!0,sample_explicit:!0,visible:!0,medium:{extinction:[3e-8,3e-8,3e-8],refractive_index:1.55},parent:null},ground:{geometry:"ground",material:"lambertian",parameters:{},photon_receiver:!0,sample_explicit:!0,visible:!0,medium:{extinction:[0,0,0],refractive_index:1},parent:null}},geometry_list:{box:{type:"translate",translation:["x","y","z"],child:{type:"round",radius:.03,child:{type:"cuboid",dimensions:["length",.5,.5]}}},ground:{type:"cuboid",dimensions:[4,.01,4]}},material_list:{glass:{type:"dielectric",base_color:[1,1,1]},lambertian:{type:"lambertian",albedo:[.7,.7,.7]}},environment_map:"green_point_park_8k.raw",environment:{type:"map",tint:[1,1,1],rotation:3.7133625},display:{exposure:0,saturation:1,lens_flare_enabled:!1,lens_flare_tiles_per_pass:1},aperture:null,integrator:{hash_table_bits:18,photons_per_pass:8e5,photon_rate:.5,max_search_radius:.05,min_search_radius:.0025,alpha:.75,max_scatter_bounces:8,max_gather_bounces:8,geometry_precision:.001,geometry_pushback:5}},thumbnail:"prefab-glass-thickness.jpg",timestamp:""}),Ze={name:"[Prefab] Default Scene",json:{metadata:{name:"[Prefab] Default Scene"},camera:{position:[6.8313575,3.796789,-6.400666],direction:[-.6979423,-.3206336,.64036757],up_vector:[0,1,0],aperture:{type:"circle",radius:0},focal_distance:.01,focal_curvature:0,field_of_view:.2},raster:{width:1280,height:720,filter:{type:"blackman-harris"}},instance_list:{"glass-cylinder":{geometry:"cylinder",material:"glass",parameters:{x:1,y:.955,z:0},photon_receiver:!1,sample_explicit:!0,visible:!0,medium:{extinction:[9e-8,5e-8,2e-9],refractive_index:1.45},parent:null},"glass-sphere":{geometry:"sphere",material:"glass",parameters:{x:0,y:1.11,z:-1.5},photon_receiver:!1,sample_explicit:!0,visible:!0,medium:{extinction:[1e-8,6e-8,6e-8],refractive_index:1.65},parent:null},ground:{geometry:"ground",material:"lambertian",parameters:{},photon_receiver:!0,sample_explicit:!0,visible:!0,medium:{extinction:[0,0,0],refractive_index:1},parent:null},"matte-cube":{geometry:"cube",material:"matte",parameters:{x:-.3,y:.81,z:1.5},photon_receiver:!0,sample_explicit:!0,visible:!0,medium:{extinction:[0,0,0],refractive_index:1},parent:null}},geometry_list:{cube:{type:"translate",translation:["x","y","z"],child:{type:"round",radius:.1,child:{type:"cuboid",dimensions:[.699,.699,.699]}}},cylinder:{type:"translate",translation:["x","y","z"],child:{type:"cylinder",height:.799,radius:.4}},ground:{type:"cuboid",dimensions:[3,.01,3]},sphere:{type:"translate",translation:["x","y","z"],child:{type:"sphere",radius:.799}}},material_list:{glass:{type:"dielectric",base_color:[1,1,1]},lambertian:{type:"lambertian",albedo:[.5,.5,.5]},matte:{type:"oren-nayar",albedo:[.25,.75,.25],roughness:1}},environment_map:null,environment:{type:"solid",tint:[1,1,1]},display:{exposure:0,saturation:1,lens_flare_enabled:!1,lens_flare_tiles_per_pass:1},aperture:null,integrator:{hash_table_bits:18,photons_per_pass:1e5,photon_rate:.5,max_search_radius:.05,min_search_radius:.005,alpha:.7,max_scatter_bounces:3,max_gather_bounces:5,geometry_precision:.001,geometry_pushback:5}},thumbnail:"prefab-default-scene.jpg",timestamp:""},et=function(e){function t(){var e;return Object(c["a"])(this,t),e=Object(l["a"])(this,Object(_["a"])(t).apply(this,arguments)),e.scenes=new Map,e.store=ue.a.createInstance({driver:ue.a.LOCALSTORAGE,name:"equinox-saved-scenes-v1"}),e}return Object(d["a"])(t,e),Object(u["a"])(t,[{key:"mounted",value:function(){var e=this;this.updateFromStore(),this.$root.$on("save-scene-response",(function(t,n,a){return e.saveScene(t,{json:n,thumbnail:a,timestamp:(new Date).toISOString()})}))}},{key:"saveScene",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.store.setItem(t,n);case 2:return e.next=4,this.updateFromStore();case 4:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"requestSceneSave",value:function(){this.$root.$emit("save-scene-request")}},{key:"deleteScene",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.store.removeItem(t);case 2:return e.next=4,this.updateFromStore();case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"loadScene",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=this.scenes.get(t),void 0!==n){e.next=3;break}throw new Error("scene did not exist");case 3:this.scene.set_json(n.json);case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"updateFromStore",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,n,a,r,i,s,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.store.getItem(Ye.name);case 2:if(e.t0=e.sent,null!==e.t0){e.next=6;break}return e.next=6,this.store.setItem(Ye.name,Ye);case 6:return e.next=8,this.store.getItem(Ze.name);case 8:if(e.t1=e.sent,null!==e.t1){e.next=12;break}return e.next=12,this.store.setItem(Ze.name,Ze);case 12:return t=new Map,n=!0,a=!1,r=void 0,e.prev=16,e.next=19,this.store.keys();case 19:e.t2=Symbol.iterator,i=e.sent[e.t2]();case 21:if(n=(s=i.next()).done){e.next=32;break}return o=s.value,e.t3=t,e.t4=o,e.next=27,this.store.getItem(o);case 27:e.t5=e.sent,e.t3.set.call(e.t3,e.t4,e.t5);case 29:n=!0,e.next=21;break;case 32:e.next=38;break;case 34:e.prev=34,e.t6=e["catch"](16),a=!0,r=e.t6;case 38:e.prev=38,e.prev=39,n||null==i.return||i.return();case 41:if(e.prev=41,!a){e.next=44;break}throw r;case 44:return e.finish(41);case 45:return e.finish(38);case 46:this.scenes=t;case 47:case"end":return e.stop()}}),e,this,[[16,34,38,46],[39,,41,45]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"displayScenes",get:function(){var e=[],t=!0,n=!1,a=void 0;try{for(var r,i=this.scenes.entries()[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){var s=Object(o["a"])(r.value,2),c=s[0],u=s[1];e.push({name:c,thumbnail:u.thumbnail,timestamp:u.timestamp})}}catch(l){n=!0,a=l}finally{try{t||null==i.return||i.return()}finally{if(n)throw a}}return e.sort((function(e,t){return t.timestamp.localeCompare(e.timestamp)}))}}]),t}(h["c"]);Object(p["a"])([Object(h["b"])()],et.prototype,"scene",void 0),et=Object(p["a"])([h["a"]],et);var tt=et,nt=tt,at=(n("8a78"),Object(y["a"])(nt,Qe,Xe,!1,null,"05dffb92",null)),rt=at.exports,it=function(e){function t(){var e;return Object(c["a"])(this,t),e=Object(l["a"])(this,Object(_["a"])(t).apply(this,arguments)),e.scene=new e.equinox.WebScene,e.editorTabsAbove=["camera","environment"],e.editorTabsBelow=["documentation","save-load","advanced","licensing"],e.defaultEditorTab="documentation",e.assetDownloads=new Map,e.assetsInFlight=0,e.assets=new Map,e.store=ue.a.createInstance({driver:ue.a.INDEXEDDB,name:"equinox-asset-data-v2"}),e}return Object(d["a"])(t,e),Object(u["a"])(t,[{key:"mounted",value:function(){this.scene.set_json(Ze.json)}},{key:"getAsset",value:function(e){return this.assets.get(e)||null}},{key:"clearAssets",value:function(){this.assets.clear()}},{key:"loadAssets",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var a,r,i,s,c,u,l,_,d,p,h,f,b,v,m,g,x,w,y,C,k,R,j,O=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(a=!0,r=!1,i=void 0,e.prev=3,s=this.assets.keys()[Symbol.iterator]();!(a=(c=s.next()).done);a=!0)u=c.value,t.includes(u)||this.assets.delete(u);e.next=11;break;case 7:e.prev=7,e.t0=e["catch"](3),r=!0,i=e.t0;case 11:e.prev=11,e.prev=12,a||null==s.return||s.return();case 14:if(e.prev=14,!r){e.next=17;break}throw i;case 17:return e.finish(14);case 18:return e.finish(11);case 19:for(t=t.filter((function(e){return!O.assets.has(e)})),l=[],_=!0,d=!1,p=void 0,e.prev=24,h=t[Symbol.iterator]();!(_=(f=h.next()).done);_=!0)b=f.value,v=this.urlForAsset(b,n),m=this.assetDownloads.get(v)||this.fetchAsset(v),l.push(m),this.assetDownloads.set(v,m);e.next=32;break;case 28:e.prev=28,e.t1=e["catch"](24),d=!0,p=e.t1;case 32:e.prev=32,e.prev=33,_||null==h.return||h.return();case 35:if(e.prev=35,!d){e.next=38;break}throw p;case 38:return e.finish(35);case 39:return e.finish(32);case 40:return this.assetsInFlight=this.assetDownloads.size,g=!0,x=!1,w=void 0,e.prev=44,e.next=47,Promise.all(l);case 47:e.t2=Symbol.iterator,y=e.sent.entries()[e.t2]();case 49:if(g=(C=y.next()).done){e.next=55;break}k=Object(o["a"])(C.value,2),R=k[0],j=k[1],this.assets.set(t[R],new Uint8Array(j));case 52:g=!0,e.next=49;break;case 55:e.next=61;break;case 57:e.prev=57,e.t3=e["catch"](44),x=!0,w=e.t3;case 61:e.prev=61,e.prev=62,g||null==y.return||y.return();case 64:if(e.prev=64,!x){e.next=67;break}throw w;case 67:return e.finish(64);case 68:return e.finish(61);case 69:case"end":return e.stop()}}),e,this,[[3,7,11,19],[12,,14,18],[24,28,32,40],[33,,35,39],[44,57,61,69],[62,,64,68]])})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"fetchAsset",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.store.getItem(t);case 3:if(n=e.sent,null!==n){e.next=20;break}return e.next=7,fetch(new Request(t));case 7:if(a=e.sent,a.ok){e.next=14;break}if(403!==a.status&&404!==a.status){e.next=13;break}throw new Error("asset not found");case 13:throw new Error("network error: ".concat(a.status));case 14:return e.next=16,a.arrayBuffer();case 16:return r=e.sent,n=new Blob([_e.a.inflate(new Uint8Array(r)).buffer]),e.next=20,this.store.setItem(t,n);case 20:return e.abrupt("return",new Response(n).arrayBuffer());case 23:throw e.prev=23,e.t0=e["catch"](0),new Error("failed to fetch asset: ".concat(e.t0.message));case 26:return e.prev=26,this.assetDownloads.delete(t),this.assetsInFlight=this.assetDownloads.size,e.finish(26);case 30:case"end":return e.stop()}}),e,this,[[0,23,26,30]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"urlForAsset",value:function(e,t){if(e=this.assetRoot()+e,!e.endsWith(".tc.raw"))return e;if("S3TC"===t)return e.replace(".tc.raw",".s3tc.raw");if("ASTC"===t)return e.replace(".tc.raw",".astc.raw");throw new Error("no texture compression format supported")}},{key:"assetRoot",value:function(){return h["c"].config.devtools?"assets/":"https://equinox-assets.s3-ap-southeast-2.amazonaws.com/"}}]),t}(h["c"]);Object(p["a"])([Object(h["b"])()],it.prototype,"equinox",void 0),it=Object(p["a"])([Object(h["a"])({components:{EnvironmentEditor:k,CameraEditor:W,EditorContainer:I,DocumentationEditor:$,LicensingEditor:Y,CanvasContainer:Je,AdvancedEditor:oe,SaveLoadEditor:rt}})],it);var st=it,ot=st,ct=(n("034f"),Object(y["a"])(ot,i,s,!1,null,null,null)),ut=ct.exports,lt=n("8e5f"),_t=n.n(lt),dt=n("4971"),pt=n.n(dt),ht=(n("24df"),n("a7be"),n("7a7a"),n("0dd0"),n("8822"),n("d2de"),n("f9d4"),n("ecee")),ft=n("c074"),bt=n("ad3d");ht["c"].add(ft["g"],ft["k"],ft["c"],ft["f"],ft["h"],ft["l"],ft["b"],ft["a"],ft["d"],ft["e"],ft["j"],ft["i"]),window.jsonlint=n("4ebc"),r["default"].component("multiselect",_t.a),r["default"].component("VueSlider",pt.a),r["default"].component("font-awesome-icon",bt["a"]),r["default"].config.productionTip=!1,Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.t0=function(e){console.info("WASM module loaded: ".concat(e.version())),e.initialize_logging(),new r["default"]({render:function(t){return t(ut,{props:{equinox:e}})}}).$mount("#app")},e.next=3,n.e("chunk-491d132c").then(n.bind(null,"2a46"));case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})))().catch(alert)},d43b:function(e,t,n){"use strict";var a=n("3f5e"),r=n.n(a);r.a},d7e8:function(e,t,n){"use strict";var a=n("3233"),r=n.n(a);r.a},e56f:function(e,t,n){"use strict";var a=n("e62f"),r=n.n(a);r.a},e62f:function(e,t,n){},eabb:function(e,t,n){"use strict";var a=n("9ede"),r=n.n(a);r.a},f05a:function(e,t,n){},fbb9:function(e,t,n){}});
//# sourceMappingURL=app.d22d5744.js.map